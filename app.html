<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ØªØ­Ø¯ÙŠ Ø§Ù„Ø£Ø³Ø§Ø·ÙŠØ± - Ùˆ Ø§Ù„Ù€ 54</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #fbbf24; 
            --secondary: #60a5fa;
            --accent: #f87171;
            --bg: #020617;
            --card-bg: rgba(15, 23, 42, 0.8);
            --correct: #10b981;
            --wrong: #ef4444;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Cairo', sans-serif; -webkit-tap-highlight-color: transparent; }

        body { 
            background: var(--bg);
            background-image: radial-gradient(circle at top right, #1e293b, #020617);
            color: #f8fafc;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px;
        }

        .container {
            width: 100%;
            max-width: 1000px;
            background: var(--card-bg);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 30px;
            box-shadow: 0 25px 50px -12px rgba(0,0,0,0.7);
            overflow: hidden;
            position: relative;
        }

        .timer-container { height: 6px; background: rgba(255,255,255,0.05); width: 100%; }
        .timer-bar { height: 100%; background: linear-gradient(to left, var(--primary), #d97706); width: 0%; transition: width 1s linear; }

        .header { 
            display: none; 
            grid-template-columns: 1fr 1fr; 
            gap: 15px; 
            padding: 20px; 
            background: rgba(0, 0, 0, 0.3);
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }

        .score-box { 
            padding: 15px; 
            border-radius: 20px; 
            text-align: center; 
            border: 2px solid transparent;
            transition: 0.4s;
            background: rgba(255,255,255,0.02);
        }

        .score-box.active { 
            border-color: var(--primary); 
            background: rgba(251, 191, 36, 0.05);
            transform: scale(1.03);
        }

        .team-name { font-weight: 700; font-size: 0.9rem; color: #94a3b8; margin-bottom: 5px; }
        .score-val { font-size: 2.8rem; font-weight: 900; color: #fff; line-height: 1; }

        .powers { display: flex; justify-content: center; gap: 10px; margin-top: 12px; }
        .p-btn { 
            width: 45px; height: 35px; border-radius: 10px; border: none; 
            cursor: pointer; color: #fff; font-size: 0.8rem; font-weight: 900;
            transition: 0.3s;
        }
        .p-btn:disabled { opacity: 0.1; cursor: not-allowed; filter: grayscale(1); }

        .screen { display: none; padding: 30px 15px; text-align: center; min-height: 520px; }
        .screen.active { display: flex; flex-direction: column; justify-content: center; align-items: center; animation: fadeIn 0.4s ease; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* Ø´Ø§Ø´Ø© Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ù„Ø¹Ø¨ */
        .how-to-play-box {
            text-align: right;
            background: rgba(255,255,255,0.05);
            padding: 20px;
            border-radius: 20px;
            margin: 20px 0;
            width: 100%;
            max-width: 600px;
        }
        .how-to-play-box li { margin-bottom: 10px; list-style: none; display: flex; align-items: center; gap: 10px;}
        .how-to-play-box b { color: var(--primary); }

        .cat-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin-top: 25px; width: 100%; }
        @media (min-width: 768px) { .cat-grid { grid-template-columns: repeat(3, 1fr); } }

        .cat-item { 
            position: relative; height: 110px; border-radius: 20px; cursor: pointer;
            overflow: hidden; border: 1px solid rgba(255,255,255,0.08);
            transition: 0.3s ease;
        }
        .cat-item:hover { transform: translateY(-5px); border-color: var(--primary); }
        .cat-img { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; opacity: 0.35; }
        .cat-content { position: relative; z-index: 1; height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; }
        .cat-content b { font-size: 1.2rem; text-shadow: 0 2px 10px #000; color: #fff; }
        .cat-item.done { opacity: 0.15; pointer-events: none; filter: grayscale(1); }

        .opt-grid { display: grid; grid-template-columns: 1fr; gap: 12px; margin-top: 25px; width: 100%; max-width: 650px; }
        @media (min-width: 500px) { .opt-grid { grid-template-columns: 1fr 1fr; } }

        .opt-btn { 
            background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.08);
            color: #e2e8f0; padding: 20px; border-radius: 18px; font-size: 1.1rem;
            font-weight: 700; cursor: pointer; transition: 0.2s;
        }
        .opt-btn:hover { background: rgba(255,255,255,0.1); }
        .opt-btn.reveal-correct { background: var(--correct) !important; color: #fff; }
        .opt-btn.clicked-wrong { background: var(--wrong) !important; color: #fff; }
        .opt-btn.hidden { opacity: 0; pointer-events: none; }

        .btn-main { 
            background: linear-gradient(135deg, var(--primary), #d97706); color: #000; 
            padding: 18px 50px; border-radius: 15px; border: none; font-weight: 900; 
            font-size: 1.3rem; cursor: pointer; transition: 0.3s;
        }
        input { 
            background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); 
            padding: 15px; border-radius: 15px; color: #fff; width: 100%; max-width: 320px; 
            margin-bottom: 12px; text-align: center; font-size: 1.2rem; outline: none;
        }

        #qImage { width: 100%; max-width: 320px; height: 180px; object-fit: cover; border-radius: 20px; margin-bottom: 20px; border: 2px solid rgba(255,255,255,0.1); }
        #hint-box { background: rgba(168, 85, 247, 0.15); border: 1px solid rgba(168, 85, 247, 0.4); color: #f5f3ff; padding: 15px; border-radius: 15px; margin-bottom: 15px; display: none; width: 95%; max-width: 600px; }
    </style>
</head>
<body>

<div class="container">
    <div class="timer-container"><div id="timerBar" class="timer-bar"></div></div>
    
    <div id="header" class="header">
        <div id="box1" class="score-box">
            <div id="n1" class="team-name">Ø§Ù„ÙØ±ÙŠÙ‚ 1</div>
            <div id="s1" class="score-val">0</div>
            <div class="powers">
                <button id="p1_50" class="p-btn" title="Ø­Ø°Ù Ø¥Ø¬Ø§Ø¨ØªÙŠÙ†" style="background:var(--accent)" onclick="use5050()">Â½</button>
                <button id="p1_x2" class="p-btn" title="Ù…Ø¶Ø§Ø¹ÙØ© Ø§Ù„Ù†Ù‚Ø§Ø·" style="background:var(--secondary)" onclick="useX2()">x2</button>
                <button id="p1_hint" class="p-btn" title="Ø·Ù„Ø¨ ØªÙ„Ù…ÙŠØ­Ø©" style="background:#a855f7" onclick="useHint()">ØªÙ„Ù…ÙŠØ­Ù‡</button>
            </div>
        </div>
        <div id="box2" class="score-box">
            <div id="n2" class="team-name">Ø§Ù„ÙØ±ÙŠÙ‚ 2</div>
            <div id="s2" class="score-val">0</div>
            <div class="powers">
                <button id="p2_50" class="p-btn" title="Ø­Ø°Ù Ø¥Ø¬Ø§Ø¨ØªÙŠÙ†" style="background:var(--accent)" onclick="use5050()">Â½</button>
                <button id="p2_x2" class="p-btn" title="Ù…Ø¶Ø§Ø¹ÙØ© Ø§Ù„Ù†Ù‚Ø§Ø·" style="background:var(--secondary)" onclick="useX2()">x2</button>
                <button id="p2_hint" class="p-btn" title="Ø·Ù„Ø¨ ØªÙ„Ù…ÙŠØ­Ø©" style="background:#a855f7" onclick="useHint()">ØªÙ„Ù…ÙŠØ­Ù‡</button>
            </div>
        </div>
    </div>

    <div id="sc-start" class="screen active">
        <h1 style="font-size: 3rem; font-weight: 900; margin-bottom: 10px; color: var(--primary);">ØªØ­Ø¯ÙŠ Ø§Ù„Ù€ 54</h1>
        <p style="color: #94a3b8; margin-bottom: 30px; font-size: 1.2rem;"> â€¢ â€¢ â€¢ </p>
        <input type="text" id="in1" placeholder="Ø§Ø³Ù… Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£ÙˆÙ„">
        <input type="text" id="in2" placeholder="Ø§Ø³Ù… Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø«Ø§Ù†ÙŠ">
        <button class="btn-main" onclick="showHowToPlay()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†</button>
    </div>

    <div id="sc-how" class="screen">
        <h1 style="color: var(--primary); margin-bottom: 10px;">ğŸ® Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ù„Ø¹Ø¨</h1>
        <div class="how-to-play-box">
            <li><span>1ï¸âƒ£</span> <span><b>Ø§Ù„Ø£Ø¯ÙˆØ§Ø±:</b> Ø§Ù„Ù„Ø¹Ø¨Ø© Ù…Ù‚Ø³Ù…Ø© Ø¨ÙŠÙ† Ø§Ù„ÙØ±ÙŠÙ‚ÙŠÙ† Ø¨Ø§Ù„ØªÙ†Ø§ÙˆØ¨.</span></li>
            <li><span>2ï¸âƒ£</span> <span><b>Ø§Ù„Ù†Ù‚Ø§Ø·:</b> Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© = 10 Ù†Ù‚Ø§Ø·.</span></li>
            <li><span>3ï¸âƒ£</span> <span><b>Ø§Ù„ÙˆØ³Ø§Ø¦Ù„:</b> Ù„Ùƒ Ø§Ø³ØªØ®Ø¯Ø§Ù… (Â½ØŒ x2ØŒ Ø§Ù„ØªÙ„Ù…ÙŠØ­Ø©) <b>Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©</b> ÙÙ‚Ø·.</span></li>
            <li><span>4ï¸âƒ£</span> <span><b>Ø§Ù„ÙˆÙ‚Øª:</b> Ø£Ù…Ø§Ù…Ùƒ 25 Ø«Ø§Ù†ÙŠØ© ÙÙ‚Ø· Ù„ÙƒÙ„ Ø³Ø¤Ø§Ù„.</span></li>
            <li><span>5ï¸âƒ£</span> <span><b>Ø§Ù„ÙÙˆØ²:</b> Ø§Ù„ÙØ±ÙŠÙ‚ ØµØ§Ø­Ø¨ Ø£Ø¹Ù„Ù‰ Ù†Ù‚Ø§Ø· ÙÙŠ Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ù‡Ùˆ Ø§Ù„Ø¨Ø·Ù„.</span></li>
        </div>
        <button class="btn-main" onclick="startGame()">ÙÙ‡Ù…ØªØŒ Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù…Ø¹Ø±ÙƒØ©!</button>
    </div>

    <div id="sc-cats" class="screen">
        <h2 id="turn-hint" style="font-size: 1.6rem; color: var(--primary); margin-bottom: 20px;"></h2>
        <div id="catGrid" class="cat-grid"></div>
    </div>

    <div id="sc-quiz" class="screen">
        <img id="qImage" src="">
        <h4 id="qCat" style="color: var(--primary); margin-bottom: 10px; letter-spacing: 1px;"></h4>
        <h1 id="qText" style="font-size: 1.6rem; margin-bottom: 25px;"></h1>
        <div id="hint-box"></div>
        <div id="optGrid" class="opt-grid"></div>
        <div id="feedback-msg" style="margin-top: 25px; font-weight: 900;"></div>
    </div>

    <div id="sc-end" class="screen">
        <div style="font-size: 5rem; margin-bottom: 20px;">ğŸ–ï¸</div>
        <h1 id="winMsg" style="font-size: 2.5rem; color: var(--primary);"></h1>
        <h2 id="finalTotal" style="font-size: 2rem; margin: 20px 0;"></h2>
        <button class="btn-main" onclick="location.reload()">Ø¬ÙˆÙ„Ø© Ø¬Ø¯ÙŠØ¯Ø©</button>
    </div>
</div>

<script>
    const DATA = {
        "c1": { t: "ğŸ¥˜ Ø·Ø¨Ø® Ø¬Ø§Ø²Ø§Ù†", img: "https://images.unsplash.com/photo-1547592166-23ac45744acd?w=500", q: [
            {q: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø¥Ù†Ø§Ø¡ Ø§Ù„Ø­Ø¬Ø±ÙŠ Ø§Ù„Ø°ÙŠ ÙŠØ·Ø¨Ø® ÙÙŠÙ‡ Ø§Ù„Ù„Ø­Ù…ØŸ", a: "Ø§Ù„Ù…ØºØ´", w: ["Ø§Ù„Ù…ÙˆÙÙ‰", "Ø§Ù„ØµØ­ÙØ©", "Ø§Ù„Ù…ÙŠÙ‚Ø¹Ø©"], h: "Ø­Ø¬Ø± Ø£Ø³ÙˆØ¯ ÙŠØ­ÙØ¸ Ø­Ø±Ø§Ø±Ø© Ø§Ù„Ù„Ø­Ù…."},
            {q: "Ø§Ù„Ù…ÙƒÙˆÙ† Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ Ù„Ø®Ø¨Ø² Ø§Ù„Ø®Ù…ÙŠØ± Ù‡ÙˆØŸ", a: "Ø§Ù„Ø°Ø±Ø© Ø§Ù„Ø­Ù…Ø±Ø§Ø¡", w: ["Ø§Ù„Ø£Ø±Ø²", "Ø§Ù„Ù‚Ù…Ø­", "Ø§Ù„Ø´Ø¹ÙŠØ±"], h: "Ø­Ø¨ÙˆØ¨ Ù…Ø´Ù‡ÙˆØ±Ø© Ø¨Ù…Ø²Ø§Ø±Ø¹ Ø§Ù„Ù…Ù†Ø·Ù‚Ø©."},
            {q: "Ø¨Ù…Ø§Ø°Ø§ ØªØ´ØªÙ‡Ø± 'Ø§Ù„Ù…Ø±Ø³Ø©'ØŸ", a: "Ø§Ù„Ø¯Ù‚ÙŠÙ‚ ÙˆØ§Ù„Ù…ÙˆØ²", w: ["Ø§Ù„Ù„Ø­Ù… ÙˆØ§Ù„Ø£Ø±Ø²", "Ø§Ù„ØªÙ…Ø± ÙˆØ§Ù„Ù„Ø¨Ù†", "Ø§Ù„Ø³Ù…Ùƒ"], h: "Ø­Ù„Ù‰ Ø´Ø¹Ø¨ÙŠ ÙŠÙ‡Ø±Ø³ Ø¬ÙŠØ¯Ø§Ù‹."},
            {q: "Ø£ÙŠÙ† ÙŠØ®Ø¨Ø² Ø§Ù„Ø¹ÙŠØ´ ÙˆØ§Ù„Ø®Ù…ÙŠØ±ØŸ", a: "Ø§Ù„Ù…ÙˆÙÙ‰", w: ["Ø§Ù„ÙØ±Ù†", "Ø§Ù„ØµØ§Ø¬", "Ø§Ù„Ù…ÙŠÙƒØ±ÙˆÙŠÙ"], h: "ØªÙ†ÙˆØ± Ø·ÙŠÙ†ÙŠ ØªÙ‚Ù„ÙŠØ¯ÙŠ."},
            {q: "Ù…Ø§ Ù‡Ùˆ 'Ø§Ù„Ø®Ø¶ÙŠØ±'ØŸ", a: "Ø°Ø±Ø© ØªÙ‚Ø·Ù Ù‚Ø¨Ù„ Ù†Ø¶Ø¬Ù‡Ø§", w: ["Ù†ÙˆØ¹ Ø³Ù…Ùƒ", "Ø¥ÙŠØ¯Ø§Ù… Ø¨Ø§Ù…ÙŠØ©", "Ø¹ØµÙŠØ±"], h: "ØªÙƒÙˆÙ† Ù„ÙŠÙ†Ø© ÙˆØ®Ø¶Ø±Ø§Ø¡."},
            {q: "Ù…ÙƒÙˆÙ† 'Ø§Ù„ÙˆÙŠÙƒØ©' Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØŸ", a: "Ø§Ù„Ø¨Ø§Ù…ÙŠØ© Ø§Ù„Ù…Ø¬ÙÙØ©", w: ["Ø§Ù„Ù…Ù„ÙˆØ®ÙŠØ©", "Ø§Ù„Ø¨Ø·Ø§Ø·Ø³", "Ø§Ù„Ø¹Ø¯Ø³"], h: "ØªØ·Ø¨Ø® ÙƒÙ…Ø±Ù‚ Ù„Ø²Ø¬."}
        ]},
        "c2": { t: "ğŸ—£ï¸ Ù‡Ø±Ø¬ Ø¬Ø§Ø²Ø§Ù†", img: "https://images.unsplash.com/photo-1522199670076-2852f80289c3?w=500", q: [
            {q: "Ù…Ø§ Ù…Ø¹Ù†Ù‰ ÙƒÙ„Ù…Ø© 'ØªØ´Ø¨Ø­'ØŸ", a: "Ø§Ù†Ø¸Ø±", w: ["Ø§Ø³Ù…Ø¹", "ØªÙƒÙ„Ù…", "Ø§Ù…Ø´Ù"], h: "Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ø­Ø§Ø³Ø© Ø§Ù„Ù†Ø¸Ø±."},
            {q: "Ù…Ø§Ø°Ø§ ÙŠØ¹Ù†ÙŠ 'Ø§Ù„Ù‚Ø­Ù…'ØŸ", a: "Ø§Ù„Ø±Ø¬Ù„ Ø§Ù„ÙƒØ¨ÙŠØ±", w: ["Ø§Ù„Ø´Ø§Ø¨", "Ø§Ù„Ø·ÙÙ„", "Ø§Ù„Ø®Ø§Ù„"], h: "Ù„Ù‚Ø¯ ÙŠØ¯Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø´ÙŠØ¨Ø© ÙˆØ§Ù„ÙˆÙ‚Ø§Ø±."},
            {q: "ÙƒÙ„Ù…Ø© 'Ù…Ø°Ø§' ØªØ¹Ù†ÙŠØŸ", a: "Ù…Ø§Ø°Ø§", w: ["Ù…ØªÙ‰", "ÙƒÙŠÙ", "Ø£ÙŠÙ†"], h: "Ø³Ø¤Ø§Ù„ Ø¹Ù† Ø§Ù„Ø´ÙŠØ¡."},
            {q: "Ù…Ø¹Ù†Ù‰ ÙƒÙ„Ù…Ø© 'Ù‡Ø¨ Ù„ÙŠ'ØŸ", a: "Ø£Ø¹Ø·Ù†ÙŠ", w: ["Ø®Ø° Ù…Ù†ÙŠ", "Ø§Ø¨ØªØ¹Ø¯", "Ø³Ø§Ø¹Ø¯Ù†ÙŠ"], h: "Ø·Ù„Ø¨ ØºØ±Ø¶ Ù…Ø§."},
            {q: "Ù…Ø§ Ù…Ø¹Ù†Ù‰ 'Ø¬Ø§Ø±ÙŠ'ØŸ", a: "Ø§Ù„Ø¢Ù†", w: ["Ø¨Ø¹Ø¯ÙŠÙ†", "Ø£Ù…Ø³", "ØºØ¯Ø§Ù‹"], h: "ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù„Ø­Ø¸Ø©."},
            {q: "Ù…Ø§ Ù…Ø¹Ù†Ù‰ ÙƒÙ„Ù…Ø© 'Ø£ØªØ´Ù‰'ØŸ", a: "Ø£Ø±ÙŠØ¯", w: ["Ø£Ø°Ù‡Ø¨", "Ø£Ù†Ø§Ù…", "Ø¢ÙƒÙ„"], h: "ØªØ¹Ø¨ÙŠØ± Ø¹Ù† Ø§Ù„Ø±ØºØ¨Ø©."}
        ]},
        "c3": { t: "ğŸ”« Ø£Ø³Ù„Ø­Ø© Ø¨Ø¨Ø¬ÙŠ", img: "https://images.unsplash.com/photo-1595590424283-b8f17842773f?w=500", q: [
            {q: "Ø£ÙŠ Ø³Ù„Ø§Ø­ ÙŠØ³Ù…Ù‰ Ù…Ù„Ùƒ Ø§Ù„Ù‚Ù†ØµØŸ", a: "AWM", w: ["Kar98k", "M24", "Win94"], h: "Ø±ØµØ§ØµÙ‡ Ø£Ø®Ø¶Ø± ÙˆÙ…Ù† Ø§Ù„Ø¯Ø±ÙˆØ¨."},
            {q: "Ù…Ø§ Ù‡Ùˆ 'Ø§Ù„Ù…Ù†Ø´Ø§Ø±'ØŸ", a: "M249", w: ["DP-28", "MG3", "Groza"], h: "Ù…Ø®Ø²Ù† Ø±ØµØ§Øµ Ø¶Ø®Ù…."},
            {q: "Ø±ØµØ§Øµ Ø§Ù„Ù€ M416 Ù„ÙˆÙ†Ù‡ØŸ", a: "Ø£Ø®Ø¶Ø± (5.56)", w: ["Ø¨Ù†ÙØ³Ø¬ÙŠ", "Ø£Ø²Ø±Ù‚", "Ø£Ø­Ù…Ø±"], h: "Ø§Ù„Ù†ÙˆØ¹ Ø§Ù„Ø³Ø±ÙŠØ¹ ÙˆØ§Ù„Ù…Ù†ØªØ´Ø±."},
            {q: "Ø£Ù‚ÙˆÙ‰ SMG Ù„Ù„Ù…ÙˆØ§Ø¬Ù‡Ø§Øª Ø§Ù„Ù‚Ø±ÙŠØ¨Ø©ØŸ", a: "UMP45", w: ["PP-19", "UZI", "Tommy Gun"], h: "ÙŠØ³ØªØ®Ø¯Ù… Ø±ØµØ§Øµ Ø§Ù„Ù€ 0.45."},
            {q: "Ø³Ù„Ø§Ø­ 7.62 Ø¨Ø§Ø±ØªØ¯Ø§Ø¯ Ø¹Ø§Ù„ÙØŸ", a: "AKM", w: ["SCAR-L", "M16A4", "AUG"], h: "Ø³Ù„Ø§Ø­ Ø§Ù„ÙƒÙ„Ø§Ø´ÙŠÙ†ÙƒÙˆÙ."},
            {q: "Ø³Ù„Ø§Ø­ ÙŠØ·Ù„Ù‚ 3 Ø±ØµØ§ØµØ§Øª (Burst)ØŸ", a: "M16A4", w: ["AUG", "M416", "Groza"], h: "ÙŠØ³ØªØ®Ø¯Ù…Ù‡ Ø§Ù„Ù…Ø­ØªØ±ÙÙˆÙ† Ù„Ù„Ù†Ù‚Ø±."}
        ]},
        "c4": { t: "ğŸ—ºï¸ Ø®Ø±Ø§Ø¦Ø· Ø¨Ø¨Ø¬ÙŠ", img: "https://images.unsplash.com/photo-1506744038136-46273834b3fb?w=500", q: [
            {q: "Ø§Ù„Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ ÙˆØ§Ù„Ø£Ø³Ø§Ø³ÙŠØ©ØŸ", a: "Ø§Ø±Ù†ØºÙ„", w: ["Ù…ÙŠØ±Ø§Ù…Ø§Ø±", "Ø³Ø§Ù†Ù‡ÙˆÙƒ", "ÙÙŠÙƒÙ†Ø¯ÙŠ"], h: "Ø®Ø±ÙŠØ·Ø© Ø§Ù„ØºØ§Ø¨Ø© ÙˆØ§Ù„Ù…ØµØ§Ù†Ø¹."},
            {q: "Ø£ÙŠÙ† ØªÙ‚Ø¹ 'Pochinki'ØŸ", a: "Ø§Ø±Ù†ØºÙ„", w: ["Ù„ÙŠÙÙŠÙƒ", "Ù†ÙˆØ³Ø§", "Ø³Ø§Ù†Ù‡ÙˆÙƒ"], h: "ÙÙŠ ÙˆØ³Ø· Ø§Ù„Ø®Ø±ÙŠØ·Ø©."},
            {q: "Ø§Ù„Ø®Ø±ÙŠØ·Ø© Ø§Ù„ØµØ­Ø±Ø§ÙˆÙŠØ© Ø§Ù„ÙƒØ¨ÙŠØ±Ø©ØŸ", a: "Ù…ÙŠØ±Ø§Ù…Ø§Ø±", w: ["Ø³Ø§Ù†Ù‡ÙˆÙƒ", "Ù„ÙŠÙÙŠÙƒ", "ÙÙŠÙƒÙ†Ø¯ÙŠ"], h: "ÙƒÙ„Ù‡Ø§ Ø¬Ø¨Ø§Ù„ ÙˆØµØ­Ø±Ø§Ø¡."},
            {q: "Ø£ÙŠÙ† ØªÙ‚Ø¹ 'Bootcamp'ØŸ", a: "Ø³Ø§Ù†Ù‡ÙˆÙƒ", w: ["Ø§Ø±Ù†ØºÙ„", "Ù…ÙŠØ±Ø§Ù…Ø§Ø±", "Ù„ÙŠÙÙŠÙƒ"], h: "Ø®Ø±ÙŠØ·Ø© Ø§Ù„ØºØ§Ø¨Ø© Ø§Ù„Ø§Ø³ØªÙˆØ§Ø¦ÙŠØ©."},
            {q: "Ø§Ù„Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ø«Ù„Ø¬ÙŠØ©ØŸ", a: "ÙÙŠÙƒÙ†Ø¯ÙŠ", w: ["Ù…ÙŠØ±Ø§Ù…Ø§Ø±", "Ø³Ø§Ù†Ù‡ÙˆÙƒ", "Ù„ÙŠÙÙŠÙƒ"], h: "Ø¬Ùˆ Ø¨Ø§Ø±Ø¯ ÙˆÙ‚Ù„Ø¹Ø© Ø«Ù„Ø¬."},
            {q: "Ø£ØµØºØ± Ø®Ø±ÙŠØ·Ø© (1x1 ÙƒÙ…)ØŸ", a: "Ù†ÙˆØ³Ø§", w: ["Ø§Ø±Ù†ØºÙ„", "Ù…ÙŠØ±Ø§Ù…Ø§Ø±", "Ù„ÙŠÙÙŠÙƒ"], h: "Ø®Ø±ÙŠØ·Ø© Ø­Ø¯ÙŠØ«Ø© ÙˆØ³Ø±ÙŠØ¹Ø©."}
        ]},
        "c5": { t: "ğŸª Ø§Ù„Ø¨Ù„ (Ø§Ù„Ø¥Ø¨Ù„)", img: "https://images.unsplash.com/photo-1589182373726-e4f658ab50f0?w=500", q: [
            {q: "Ù…Ø§Ø°Ø§ ÙŠØ³Ù…Ù‰ ØµØºÙŠØ± Ø§Ù„Ø¥Ø¨Ù„ØŸ", a: "Ø­ÙˆØ§Ø±", w: ["Ù‚Ø¹ÙˆØ¯", "Ù…ÙØ±ÙˆØ¯", "Ø¨ÙƒØ±Ø©"], h: "ÙŠØ³Ù…Ù‰ Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø§Ø³Ù… Ø¹Ù†Ø¯ ÙˆÙ„Ø§Ø¯ØªÙ‡."},
            {q: "Ø§Ù„Ø¥Ø¨Ù„ Ø§Ù„Ø³ÙˆØ¯Ø§Ø¡ ØªØ³Ù…Ù‰ØŸ", a: "Ù…Ø¬Ø§Ù‡ÙŠÙ…", w: ["Ù…ØºØ§ØªÙŠØ±", "ÙˆØ¶Ø­", "ØµÙØ±"], h: "Ù…Ø´Ù‡ÙˆØ±Ø© Ø¨Ø­Ø¬Ù…Ù‡Ø§ ÙˆÙ„ÙˆÙ†Ù‡Ø§ Ø§Ù„Ø¯Ø§ÙƒÙ†."},
            {q: "Ø§Ù„Ø¥Ø¨Ù„ Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡ ØªÙ…Ø§Ù…Ø§Ù‹ ØªØ³Ù…Ù‰ØŸ", a: "ÙˆØ¶Ø­", w: ["Ø´Ø¹Ù„", "ØµÙØ±", "Ù…ÙŠØ±Ø§Ø¯"], h: "Ù…Ù† Ø£Ø¬Ù…Ù„ ÙˆØ£ØºÙ„Ù‰ Ø§Ù„Ø£Ù„ÙˆØ§Ù†."},
            {q: "ØµÙˆØª Ø§Ù„Ø¥Ø¨Ù„ ÙŠØ³Ù…Ù‰ØŸ", a: "Ø­Ù†ÙŠÙ†", w: ["ØµÙ‡ÙŠÙ„", "Ù†Ø¨Ø§Ø­", "Ø®ÙˆØ§Ø±"], h: "ØªØ¹Ø¨ÙŠØ± Ø¹Ù† Ø§Ø´ØªÙŠØ§Ù‚Ù‡Ø§ Ù„ØµØºØ§Ø±Ù‡Ø§."},
            {q: "ÙƒÙ… Ø¹Ø¯Ø¯ Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ù†Ø§Ù‚Ø©ØŸ", a: "4 Ù…Ø¹Ø¯Ø§Øª", w: ["Ù…Ø¹Ø¯Ø© ÙˆØ§Ø­Ø¯Ø©", "2 Ù…Ø¹Ø¯Ø©", "3 Ù…Ø¹Ø¯Ø§Øª"], h: "ØªØ³Ø§Ø¹Ø¯Ù‡Ø§ Ø¹Ù„Ù‰ Ù‡Ø¶Ù… Ø§Ù„Ø£Ø´ÙˆØ§Ùƒ."},
            {q: "Ù…Ø§Ø°Ø§ ÙŠØ³Ù…Ù‰ Ø°ÙƒØ± Ø§Ù„Ø¥Ø¨Ù„ØŸ", a: "Ø¬Ù…Ù„", w: ["Ù†Ø§Ù‚Ø©", "Ø®Ø±ÙˆÙ", "ØªÙŠØ³"], h: "ÙŠØ³ØªØ®Ø¯Ù… Ù„Ù„ØªØ­Ù…Ù„ ÙˆØ§Ù„Ù‚ÙˆØ©."}
        ]},
        "c6": { t: "ğŸ’ Ø§Ù„ÙÙ„", img: "https://images.unsplash.com/photo-1596073413908-4482cee8821d?w=500", q: [
            {q: "Ù†Ø¨Ø§Øª Ø¹Ø·Ø±ÙŠ ÙŠÙˆØ¶Ø¹ Ù…Ø¹ Ø§Ù„ÙÙ„ØŸ", a: "Ø§Ù„ÙƒØ§Ø¯ÙŠ", w: ["Ø§Ù„Ù†Ø¹Ù†Ø§Ø¹", "Ø§Ù„Ø±ÙŠØ­Ø§Ù†", "Ø§Ù„Ø¨Ù‚Ø¯ÙˆÙ†Ø³"], h: "Ø´ÙƒÙ„Ù‡ Ø·ÙˆÙŠÙ„ ÙˆØ±Ø§Ø¦Ø­ØªÙ‡ Ù‚ÙˆÙŠØ©."},
            {q: "Ø²ÙŠÙ†Ø© Ø§Ù„Ø±Ø£Ø³ Ù…Ù† Ø§Ù„ÙÙ„ØŸ", a: "Ø¹ØµØ§Ø¨Ø©", w: ["Ø®Ø§ØªÙ…", "Ø¨Ø±Ù‚Ø¹", "Ø­Ø²Ø§Ù…"], h: "ØªÙˆØ¶Ø¹ ÙÙˆÙ‚ Ø§Ù„Ø±Ø£Ø³."},
            {q: "Ù…ØªÙ‰ ÙŠÙ‚Ø·Ù Ø§Ù„ÙÙ„ØŸ", a: "Ø§Ù„ÙØ¬Ø±", w: ["Ø§Ù„Ø¸Ù‡Ø±", "Ø§Ù„Ù…ØºØ±Ø¨", "Ø§Ù„Ø¹ØµØ±"], h: "ÙÙŠ Ø§Ù„ØµØ¨Ø§Ø­ Ø§Ù„Ø¨Ø§ÙƒØ± Ø¬Ø¯Ø§Ù‹."},
            {q: "Ù†Ø¨Ø§Øª Ø£Ø®Ø¶Ø± ÙŠÙˆØ¶Ø¹ Ù…Ø¹ Ø§Ù„ÙÙ„ØŸ", a: "Ø§Ù„Ø¨Ø¹ÙŠØ«Ø±Ø§Ù†", w: ["Ø§Ù„Ø®Ø³", "Ø§Ù„Ø¬Ø±Ø¬ÙŠØ±", "Ø§Ù„ÙƒØ±ÙØ³"], h: "ÙŠØ³Ù…Ù‰ Ø£ÙŠØ¶Ø§Ù‹ Ø§Ù„Ø´Ø°Ø§Ø¨ Ø£Ùˆ Ø§Ù„Ø´Ø±ÙŠÙ."},
            {q: "Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„ÙÙ„ Ù‡ÙŠØŸ", a: "Ø¬Ø§Ø²Ø§Ù†", w: ["Ø¬Ø¯Ø©", "Ø§Ù„Ø±ÙŠØ§Ø¶", "ØªØ¨ÙˆÙƒ"], h: "Ø¬Ù†ÙˆØ¨ Ø§Ù„Ù…Ù…Ù„ÙƒØ©."},
            {q: "Ø§Ù„ÙÙ„ Ø§Ù„Ø¹Ø²Ø§Ù†ÙŠ ÙŠØªÙ…ÙŠØ² Ø¨Ù€ØŸ", a: "Ø·ÙˆÙ„Ù‡ ÙˆØ±Ø§Ø¦Ø­ØªÙ‡", w: ["ØµØºØ± Ø­Ø¬Ù…Ù‡", "Ù„ÙˆÙ†Ù‡ Ø§Ù„Ø£Ø­Ù…Ø±", "Ù„Ø§ Ø±Ø§Ø¦Ø­Ø© Ù„Ù‡"], h: "Ù†ÙˆØ¹ ÙØ§Ø®Ø± Ø¬Ø¯Ø§Ù‹."}
        ]},
        "c7": { t: "ğŸŒŠ Ø§Ù„Ø¨Ø­Ø±", img: "https://images.unsplash.com/photo-1551244072-5d12893278ab?w=500", q: [
            {q: "Ø³Ù…Ùƒ Ø§Ù„Ù…Ù‡Ø±Ø¬Ø§Ù† ÙÙŠ ÙØ±Ø³Ø§Ù†ØŸ", a: "Ø§Ù„Ø­Ø±ÙŠØ¯", w: ["Ø§Ù„Ù‡Ø§Ù…ÙˆØ±", "Ø§Ù„Ù†Ø§Ø¬Ù„", "Ø§Ù„ÙƒÙ†Ø¹Ø¯"], h: "Ø¨Ø¨ØºØ§Ø¡ Ø§Ù„Ø¨Ø­Ø± Ø§Ù„Ù…Ù„ÙˆÙ†."},
            {q: "Ø£ÙƒØ¨Ø± Ø¬Ø²ÙŠØ±Ø© ÙÙŠ Ø¬Ø§Ø²Ø§Ù†ØŸ", a: "ÙØ±Ø³Ø§Ù† Ø§Ù„ÙƒØ¨Ø±Ù‰", w: ["Ù‚Ù…Ø§Ø­", "Ø¢Ù…Ù†Ø©", "Ø¯Ù…Ø³Ùƒ"], h: "Ù…Ø±ÙƒØ² Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø©."},
            {q: "Ù…Ø§ Ù‡ÙŠ 'Ø§Ù„Ù…Ù„ÙˆØ­Ø©'ØŸ", a: "Ø³Ù…Ùƒ Ù…Ù…Ù„Ø­", w: ["Ø´ÙˆØ±Ø¨Ø©", "Ø¹ØµÙŠØ±", "ØµØ¯Ù"], h: "Ø·Ø±ÙŠÙ‚Ø© Ø­ÙØ¸ Ø§Ù„Ø³Ù…Ùƒ."},
            {q: "Ù…Ù„Ùƒ Ø§Ù„Ø³Ù…Ùƒ Ø§Ù„Ø£Ø­Ù…Ø±ØŸ", a: "Ø§Ù„Ù†Ø§Ø¬Ù„", w: ["Ø§Ù„Ø¨ÙŠØ§Ø¶", "Ø§Ù„Ø´Ø¹ÙˆØ±", "Ø§Ù„Ø³ÙŠØ¬Ø§Ù†"], h: "Ø£ÙØ¶Ù„ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø³Ù…Ùƒ Ø·Ø¹Ù…Ø§Ù‹."},
            {q: "Ù‚Ø§Ø±Ø¨ ØµÙŠØ¯ ØµØºÙŠØ±ØŸ", a: "Ù‡ÙˆØ±", w: ["Ø³ÙÙŠÙ†Ø©", "ÙŠØ®Øª", "Ø¬Ù„Ø¨Ø©"], h: "ÙŠØ³ØªØ®Ø¯Ù… ÙÙŠ Ø§Ù„Ù…ÙŠØ§Ù‡ Ø§Ù„Ù‚Ø±ÙŠØ¨Ø©."},
            {q: "Ø´Ù‡Ø± Ø¸Ù‡ÙˆØ± Ø§Ù„Ø­Ø±ÙŠØ¯ØŸ", a: "Ø£Ø¨Ø±ÙŠÙ„", w: ["Ø£ØºØ³Ø·Ø³", "ÙŠÙ†Ø§ÙŠØ±", "ÙŠÙˆÙ†ÙŠÙˆ"], h: "ÙØµÙ„ Ø§Ù„Ø±Ø¨ÙŠØ¹."}
        ]},
        "c8": { t: "ğŸ¡ Ø§Ù„ØªØ±Ø§Ø«", img: "https://images.unsplash.com/photo-1518780664697-55e3ad937233?w=500", q: [
            {q: "Ø´ÙƒÙ„ Ø§Ù„Ø¹Ø´Ø© Ø§Ù„Ø¬ÙŠØ²Ø§Ù†ÙŠØ©?ØŸ", a: "Ù…Ø®Ø±ÙˆØ·ÙŠ", w: ["Ù…Ø±Ø¨Ø¹", "Ø¯Ø§Ø¦Ø±ÙŠ", "Ù…Ø³Ø·Ø­"], h: "Ù‚Ù…ØªÙ‡Ø§ Ù…Ø¯Ø¨Ø¨Ø© ÙƒØ§Ù„Ù‚Ø¨Ø¹Ø©."},
            {q: "Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ù‚Ø¹Ø§Ø¯Ø©ØŸ", a: "Ø³Ø±ÙŠØ± Ø®Ø´Ø¨ÙŠ", w: ["Ø·Ø§ÙˆÙ„Ø©", "Ø¯ÙˆÙ„Ø§Ø¨", "ÙƒØ±Ø³ÙŠ"], h: "ØªÙ†Ø³Ø¬ Ø¨Ø§Ù„Ø­Ø¨Ø§Ù„."},
            {q: "Ø³ÙˆÙ‚ Ø§Ù„Ø³Ø¨Øª ÙÙŠØŸ", a: "Ø¨ÙŠØ´", w: ["ØµØ¨ÙŠØ§", "ØµØ§Ù…Ø·Ø©", "Ø¬Ø§Ø²Ø§Ù†"], h: "Ø£Ù‚Ø¯Ù… Ø³ÙˆÙ‚ Ø´Ù…Ø§Ù„ Ø§Ù„Ù…Ù†Ø·Ù‚Ø©."},
            {q: "Ø¥Ù†Ø§Ø¡ Ø®Ø´Ø¨ÙŠ Ù„Ù„Ø£ÙƒÙ„ØŸ", a: "ØµØ­ÙØ©", w: ["ÙƒØªØ§Ø¨", "Ù…Ù„Ø¹Ù‚Ø©", "Ø´ÙˆÙƒØ©"], h: "ÙŠÙˆØ¶Ø¹ ÙÙŠÙ‡Ø§ Ø§Ù„Ø¹ÙŠØ´."},
            {q: "Ø­Ø²Ø§Ù… Ø§Ù„Ø¬Ù†Ø¨ÙŠØ© ÙŠØ³Ù…Ù‰ØŸ", a: "Ù…Ø­Ø²Ù…", w: ["Ø¹Ù‚Ø§Ù„", "Ø´Ù…Ø§Øº", "Ø¨Ø´Øª"], h: "ÙŠÙˆØ¶Ø¹ Ø­ÙˆÙ„ Ø§Ù„Ø®ØµØ±."},
            {q: "Ù…ÙƒØ§Ù† Ø§Ù„Ø·Ø¨Ø® Ù‚Ø¯ÙŠÙ…Ø§Ù‹ØŸ", a: "Ø§Ù„Ù…Ø±ÙƒØ¨Ø©", w: ["Ø§Ù„Ù…Ø¬Ù„Ø³", "Ø§Ù„ØµÙˆØ­", "Ø§Ù„Ø¹Ø·ÙØ©"], h: "ÙŠÙˆØ¬Ø¯ ÙÙŠÙ‡Ø§ Ø§Ù„Ù…ÙˆÙÙ‰."}
        ]},
        "c9": { t: "ğŸ‹ Ø§Ù„Ø²Ø±Ø§Ø¹Ø©", img: "https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?w=500", q: [
            {q: "Ø§Ù„Ø¨Ù† Ø§Ù„Ø¬Ø¨Ù„ÙŠ Ø§Ù„Ù…Ø´Ù‡ÙˆØ±ØŸ", a: "Ø§Ù„Ø®ÙˆÙ„Ø§Ù†ÙŠ", w: ["Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„ÙŠ", "Ø§Ù„Ù‡Ù†Ø¯ÙŠ", "Ø§Ù„Ø£ÙØ±ÙŠÙ‚ÙŠ"], h: "Ù…Ù† Ø¬Ø¨Ø§Ù„ Ø¬Ø§Ø²Ø§Ù†."},
            {q: "Ù…Ø§ Ù‡Ùˆ 'Ø§Ù„Ø¹Ù†Ø¨Ø±ÙˆØ¯'ØŸ", a: "Ø§Ù„Ø¨Ø§Ø¨Ø§ÙŠØ§", w: ["Ù…Ø§Ù†Ø¬Ùˆ", "Ù…ÙˆØ²", "Ø¨Ø±ØªÙ‚Ø§Ù„"], h: "ÙØ§ÙƒÙ‡Ø© Ø§Ø³ØªÙˆØ§Ø¦ÙŠØ© ØµÙØ±Ø§Ø¡."},
            {q: "Ø¬Ø§Ø²Ø§Ù† Ø§Ù„Ø£ÙˆÙ„Ù‰ ÙÙŠ Ø¥Ù†ØªØ§Ø¬ØŸ", a: "Ø§Ù„Ù…Ø§Ù†Ø¬Ùˆ", w: ["Ø§Ù„ØªÙ…Ø±", "Ø§Ù„Ø²ÙŠØªÙˆÙ†", "Ø§Ù„Ø£Ø±Ø²"], h: "Ø£ØµÙ†Ø§Ù Ø¹Ø§Ù„Ù…ÙŠØ© ÙØ§Ø®Ø±Ø©."},
            {q: "Ù„ÙˆÙ† Ø§Ù„Ù‚Ø´Ø·Ø© Ù…Ù† Ø§Ù„Ø¯Ø§Ø®Ù„ØŸ", a: "Ø£Ø¨ÙŠØ¶", w: ["Ø£Ø­Ù…Ø±", "Ø£Ø®Ø¶Ø±", "Ø£Ø³ÙˆØ¯"], h: "Ø·Ø¹Ù…Ù‡Ø§ ÙƒØ±ÙŠÙ…ÙŠ."},
            {q: "Ø£Ø´Ù‡Ø± ØµÙ†Ù Ù…Ø§Ù†Ø¬ÙˆØŸ", a: "ØªÙˆÙ…ÙŠ", w: ["Ø³ÙƒØ±ÙŠ", "Ø®Ù„Ø§Øµ", "Ù†Ø¨ØªØ©"], h: "ÙƒØ¨ÙŠØ±Ø© ÙˆÙ„ÙˆÙ†Ù‡Ø§ Ù…Ø§Ø¦Ù„ Ù„Ù„Ø£Ø­Ù…Ø±."},
            {q: "Ù„Ù‚Ø¨ Ø¬Ø§Ø²Ø§Ù† Ø§Ù„Ø²Ø±Ø§Ø¹ÙŠØŸ", a: "Ø³Ù„Ø© ØºØ°Ø§Ø¡ Ø§Ù„Ù…Ù…Ù„ÙƒØ©", w: ["Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù†Ø®ÙŠÙ„", "Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„ÙˆØ±Ø¯", "Ø¹Ø±ÙˆØ³ Ø§Ù„Ø¨Ø­Ø±"], h: "Ø¨Ø³Ø¨Ø¨ ØªÙ†ÙˆØ¹ Ø§Ù„Ù…Ø­Ø§ØµÙŠÙ„."}
        ]}
    };

    let t1 = { n: "", s: 0, p50: true, px2: true, ph: true };
    let t2 = { n: "", s: 0, p50: true, px2: true, ph: true };
    let turn = 1, x2Act = false, selCat = "", timerInterval;

    function showHowToPlay() {
        t1.n = document.getElementById('in1').value || "Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£ÙˆÙ„";
        t2.n = document.getElementById('in2').value || "Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø«Ø§Ù†ÙŠ";
        nav('sc-how');
    }

    function startGame() {
        document.getElementById('n1').innerText = t1.n;
        document.getElementById('n2').innerText = t2.n;
        document.getElementById('header').style.display = 'grid';
        nav('sc-cats');
        drawCats();
    }

    function nav(id) {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        if (id !== 'sc-quiz') stopTimer();
        updateUI();
    }

    function drawCats() {
        const grid = document.getElementById('catGrid');
        grid.innerHTML = '';
        for (let k in DATA) {
            let count = DATA[k].q.length;
            let d = document.createElement('div');
            d.className = 'cat-item' + (count === 0 ? ' done' : '');
            d.innerHTML = `<img src="${DATA[k].img}" class="cat-img"><div class="cat-content"><b>${DATA[k].t}</b><small style="color:var(--primary)">${count} Ø£Ø³Ø¦Ù„Ø©</small></div>`;
            d.onclick = () => loadQ(k);
            grid.appendChild(d);
        }
    }

    function loadQ(k) {
        if (DATA[k].q.length === 0) return;
        selCat = k;
        const q = DATA[k].q[0];
        document.getElementById('qImage').src = DATA[k].img;
        document.getElementById('qCat').innerText = DATA[k].t;
        document.getElementById('qText').innerText = q.q;
        document.getElementById('hint-box').style.display = 'none';
        document.getElementById('feedback-msg').innerText = "";
        
        let opts = [{t: q.a, c: true}, {t: q.w[0], c: false}, {t: q.w[1], c: false}, {t: q.w[2], c: false}].sort(() => Math.random() - 0.5);
        const grid = document.getElementById('optGrid');
        grid.innerHTML = '';
        opts.forEach(o => {
            let b = document.createElement('button');
            b.className = 'opt-btn';
            b.innerText = o.t;
            b.dataset.c = o.c;
            b.onclick = () => check(b, o.c);
            grid.appendChild(b);
        });
        nav('sc-quiz');
        startTimer(25);
    }

    function startTimer(sec) {
        let cur = sec;
        const bar = document.getElementById('timerBar');
        bar.style.width = "100%";
        clearInterval(timerInterval);
        timerInterval = setInterval(() => {
            cur--;
            bar.style.width = (cur / sec * 100) + "%";
            if (cur <= 0) { stopTimer(); check(null, false); }
        }, 1000);
    }

    function stopTimer() { clearInterval(timerInterval); document.getElementById('timerBar').style.width = "0%"; }

    function check(btn, isC) {
        stopTimer();
        document.querySelectorAll('.opt-btn').forEach(b => b.style.pointerEvents = 'none');
        const f = document.getElementById('feedback-msg');
        if (isC) {
            btn.classList.add('reveal-correct');
            let p = x2Act ? 20 : 10;
            if (turn === 1) t1.s += p; else t2.s += p;
            f.innerText = "ÙƒÙÙˆ! +" + p; f.style.color = "var(--correct)";
        } else {
            if(btn) btn.classList.add('clicked-wrong');
            f.innerText = "Ù„Ù„Ø£Ø³Ù! Ø§Ù„Ø¬ÙˆØ§Ø¨: " + DATA[selCat].q[0].a; f.style.color = "var(--wrong)";
            document.querySelectorAll('.opt-btn').forEach(b => { if(b.dataset.c === "true") b.classList.add('reveal-correct'); });
        }
        setTimeout(() => {
            DATA[selCat].q.shift();
            turn = (turn === 1) ? 2 : 1;
            x2Act = false;
            if (isEnd()) return;
            nav('sc-cats');
            drawCats();
        }, 2000);
    }

    function updateUI() {
        document.getElementById('s1').innerText = t1.s;
        document.getElementById('s2').innerText = t2.s;
        document.getElementById('turn-hint').innerText = "Ø¯ÙˆØ±: " + (turn === 1 ? t1.n : t2.n);
        document.getElementById('box1').classList.toggle('active', turn === 1);
        document.getElementById('box2').classList.toggle('active', turn === 2);
        const inQuiz = document.getElementById('sc-quiz').classList.contains('active');
        document.getElementById('p1_50').disabled = !inQuiz || !t1.p50 || turn !== 1;
        document.getElementById('p1_x2').disabled = !inQuiz || !t1.px2 || turn !== 1;
        document.getElementById('p1_hint').disabled = !inQuiz || !t1.ph || turn !== 1;
        document.getElementById('p2_50').disabled = !inQuiz || !t2.p50 || turn !== 2;
        document.getElementById('p2_x2').disabled = !inQuiz || !t2.px2 || turn !== 2;
        document.getElementById('p2_hint').disabled = !inQuiz || !t2.ph || turn !== 2;
    }

    function use5050() {
        let b = Array.from(document.querySelectorAll('.opt-btn')).filter(x => x.dataset.c === "false");
        b.sort(() => Math.random() - 0.5).slice(0, 2).forEach(x => x.classList.add('hidden'));
        if (turn === 1) t1.p50 = false; else t2.p50 = false;
        updateUI();
    }

    function useX2() { x2Act = true; if (turn === 1) t1.px2 = false; else t2.px2 = false; updateUI(); }
    function useHint() { 
        let h = document.getElementById('hint-box'); h.innerText = "ğŸ’¡ ØªÙ„Ù…ÙŠØ­Ø©: " + DATA[selCat].q[0].h; h.style.display = 'block';
        if (turn === 1) t1.ph = false; else t2.ph = false; updateUI(); 
    }

    function isEnd() {
        let rem = 0; for (let k in DATA) rem += DATA[k].q.length;
        if (rem === 0) {
            let win = t1.s > t2.s ? t1.n : (t2.s > t1.s ? t2.n : "ØªØ¹Ø§Ø¯Ù„");
            document.getElementById('winMsg').innerText = "Ø§Ù„Ø¨Ø·Ù„ Ù‡Ùˆ: " + win;
            document.getElementById('finalTotal').innerText = `${t1.s} - ${t2.s}`;
            nav('sc-end'); return true;
        }
        return false;
    }
</script>
</body>
</html>
